<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Connect 4 Showdown</title>

    <link href="https://lh3.googleusercontent.com/DH6h4FYtrXglcMzS8lOU80LBkXBME346Zu2izCwgp9l1Litp7p_lE9DSqTJ-EgEMknDr"
          rel="icon">
    <link href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" rel="stylesheet">
    <link href="../assets/normal.css" rel="stylesheet">
    <link href="layout.css" rel="stylesheet">

    <script src="../navigation.js" type="text/javascript"></script>
    <script src="../SideMenus/Chat/chat.js" type="text/javascript"></script>
    <script src="../SideMenus/Social/social.js" type="text/javascript"></script>

    <script>
        window.addEventListener('load', function () {
            const urlParams = new URLSearchParams(window.location.search);
            mode = urlParams.get('mode');
            switch (mode) {
                case '1v1':
                    console.log('1v1');
                    break;
                case 'AI':
                    console.log('AI');
                    document.getElementById("ai-modes").style.opacity = "1";
                    break;
                case 'Online':
                    console.log('Online');
                    break;
                default:
                    if (!window.location.href.includes('RELOAD_ON_SAVE')) home();
            }
        });

        function home() {
            if (!window.location.href.includes(home_url.replace('../', ''))) window.location.href = home_url;
        }
    </script>
</head>

<body class="container">
<span>
    <button class="home-button" onclick="home()">
       <i class="fas fa-times"></i>
    </button>
</span>

<app-chat></app-chat>

<section class="game-board-container">
    <link href="game.css" rel="stylesheet">
    <script src="grid.js" type="text/javascript"></script>
    <script src="game.js" type="text/javascript"></script>
    <script src="ai.js" type="text/javascript"></script>

    <table id="game-board">
        <tr class="column">
            <td class="cell" id="00"></td>
            <td class="cell" id="01"></td>
            <td class="cell" id="02"></td>
            <td class="cell" id="03"></td>
            <td class="cell" id="04"></td>
            <td class="cell" id="05"></td>
        </tr>
        <tr class="column">
            <td class="cell" id="10"></td>
            <td class="cell" id="11"></td>
            <td class="cell" id="12"></td>
            <td class="cell" id="13"></td>
            <td class="cell" id="14"></td>
            <td class="cell" id="15"></td>
        </tr>
        <tr class="column">
            <td class="cell" id="20"></td>
            <td class="cell" id="21"></td>
            <td class="cell" id="22"></td>
            <td class="cell" id="23"></td>
            <td class="cell" id="24"></td>
            <td class="cell" id="25"></td>
        </tr>
        <tr class="column">
            <td class="cell" id="30"></td>
            <td class="cell" id="31"></td>
            <td class="cell" id="32"></td>
            <td class="cell" id="33"></td>
            <td class="cell" id="34"></td>
            <td class="cell" id="35"></td>
        </tr>
        <tr class="column">
            <td class="cell" id="40"></td>
            <td class="cell" id="41"></td>
            <td class="cell" id="42"></td>
            <td class="cell" id="43"></td>
            <td class="cell" id="44"></td>
            <td class="cell" id="45"></td>
        </tr>
        <tr class="column">
            <td class="cell" id="50"></td>
            <td class="cell" id="51"></td>
            <td class="cell" id="52"></td>
            <td class="cell" id="53"></td>
            <td class="cell" id="54"></td>
            <td class="cell" id="55"></td>
        </tr>
        <tr class="column">
            <td class="cell" id="60"></td>
            <td class="cell" id="61"></td>
            <td class="cell" id="62"></td>
            <td class="cell" id="63"></td>
            <td class="cell" id="64"></td>
            <td class="cell" id="65"></td>
        </tr>
    </table>
    <link href="loading.css" rel="stylesheet">
    <div class="loading" id="loading-circle">
        <div class="loader orbit">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <div class="bottom-grid">
        <div class="mode-select" id="ai-modes" style="opacity: 0">
            <label for="ai-mode">AI Mode</label>
            <select id="ai-mode" style="text-align: center">
                <option value="random">Random</option>
                <option value="minmax">Minmax</option>
            </select>
        </div>
        <button id="reset-game-button" onclick="resetTable()">
            Reset Game
        </button>
        <div class="turn-container" id="turn-container">
            <label id="player-info">Player's Turn</label>
            <div class="coin-turn" id="player-turn"></div>
        </div>
    </div>
    <script>
        updateTurn();
        enableColumnsClick();
    </script>
</section>

<app-social></app-social>

</body>
</html>